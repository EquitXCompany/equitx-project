-- Seed data for initial assets and liquidity pools
-- Generated for equitx-project

-- Insert default assets
INSERT INTO asset (symbol, feed_address, price, last_xlm_price, created_at, updated_at)
VALUES 
  ('xBTC', 'CCYOZJCOPG34LLQQ7N24YXBM7LL62R7ONMZ3G6WZAAYPB5OYKOMJRN63', '30000.00', '0.12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('xETH', 'CCYOZJCOPG34LLQQ7N24YXBM7LL62R7ONMZ3G6WZAAYPB5OYKOMJRN63', '2000.00', '0.12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('xUSDT', 'CCYOZJCOPG34LLQQ7N24YXBM7LL62R7ONMZ3G6WZAAYPB5OYKOMJRN63', '1.00', '0.12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('xXRP', 'CCYOZJCOPG34LLQQ7N24YXBM7LL62R7ONMZ3G6WZAAYPB5OYKOMJRN63', '0.50', '0.12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('xSOL', 'CCYOZJCOPG34LLQQ7N24YXBM7LL62R7ONMZ3G6WZAAYPB5OYKOMJRN63', '25.00', '0.12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('xADA', 'CCYOZJCOPG34LLQQ7N24YXBM7LL62R7ONMZ3G6WZAAYPB5OYKOMJRN63', '0.30', '0.12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  ('xDOT', 'CCYOZJCOPG34LLQQ7N24YXBM7LL62R7ONMZ3G6WZAAYPB5OYKOMJRN63', '5.00', '0.12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
  -- Special XLM asset for price tracking
  ('XLM', 'CCYOZJCOPG34LLQQ7N24YXBM7LL62R7ONMZ3G6WZAAYPB5OYKOMJRN63', '0.12', '0.12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- Insert corresponding liquidity pools
INSERT INTO liquidity_pools (asset_id, pool_address, minimum_collateralization_ratio, created_at, updated_at)
SELECT 
  a.id,
  CASE a.symbol
    WHEN 'xBTC' THEN 'CD5IVQFW4JTDWHGXHWOUBAZZUKOMK3RUEPI6JE7ZQDJZIXNETIK44F7C'
    WHEN 'xETH' THEN 'CAA4O6GKBCD7TCFNGFP2DQ7LFO3QQDGP4UTAFTVKQENVNW2Q6L34EZIV'
    WHEN 'xUSDT' THEN 'CBIHF3OLRWX6QLYCVY676WX3FQ7VKAVAT2RW6GS6KVN2ENRKHFTXT2GE'
    WHEN 'xXRP' THEN 'CC4GLDKUQXP54JG4IOQYRF6DAKWIWWBPZOEUYJZA3LYS4QW2XPFW6EKP'
    WHEN 'xSOL' THEN 'CAGOXFI7LH7KJJ3DFKHOI3HZBVRUCSCPKNOD2SJMG5VJQ3EQHFVDDPPE'
    WHEN 'xADA' THEN 'CCGWWT5ZVBMDKBHVM2YQQB4JZIPFWR42PCZHX6XGRV3QXYZYBSHUKWPU'
    WHEN 'xDOT' THEN 'CBMB4C3GXJAXAEV5JXR5QHCPH2M3WUOLOTFYWHU6YXOLYXDZY7AJ5XND'
  END as pool_address,
  150 as minimum_collateralization_ratio,
  CURRENT_TIMESTAMP,
  CURRENT_TIMESTAMP
FROM asset a
WHERE a.symbol != 'XLM'; -- Exclude XLM as it doesn't get a liquidity pool
